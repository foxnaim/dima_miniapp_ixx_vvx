#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ production –≤–µ—Ä—Å–∏–∏
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: ./start.sh

set -e

echo "üöÄ –ó–∞–ø—É—Å–∫ Mini Shop..."

# –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ .next —Å–æ–±—Ä–∞–Ω
if [ ! -d ".next" ]; then
    echo "‚ùå .next –Ω–µ –Ω–∞–π–¥–µ–Ω. –ó–∞–ø—É—Å—Ç–∏—Ç–µ 'yarn build' —Å–Ω–∞—á–∞–ª–∞."
    exit 1
fi

# –ó–∞–ø—É—Å–∫–∞–µ–º –±—ç–∫–µ–Ω–¥ (–æ–Ω –±—É–¥–µ—Ç –æ—Ç–¥–∞–≤–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥)
echo "‚úÖ –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞ –Ω–∞ –ø–æ—Ä—Ç—É 8000..."
cd backend
python3 -m uvicorn app.main:app --host 0.0.0.0 --port 8000

